---
title: "[boostcamp AI Tech] 학습기록 day35 (week8)"
date: 2021-09-23 20:00:00 -0400
categories:
use_math: true
---
# 부스트캠프 특강 (2021.9.23)

# 1. 서비스 향 AI 모델 개발하기 - 이활석 

## 연구관점에서 AI개발
* 정해진 데이터셋/평가방식에서 더 좋은 모델
```                 
 학습 데이터셋  ──> 모델링 <── 테스트 데이터셋/방법 
                    │
                    └─> AI모델
```

## 서비스 관점에서 AI개발
* 학습 데이터셋, 테스트 데이터셋/방법이 존재하지 않는다.
* 대신 서비스 요구사항이 존재
``` 
서비스 요구사항 ──> 모델링 ──> AI모델 [테스트 데이터셋/방법,학습 데이터셋 (X)]
```

## 1. 학습데이터 준비
* 서비스 요구사할 ─> 필요한 데이터의 종류/수량/정답
* 서비스 기획팀과 질의응답을 통해 종류/수량 등의 요구사항을 구체화
* 기술 모듈 설계 
    * 입력 (A) ─> 기술모듈 (A to B) -> 출력 (B)
    * 필요하다면 여러 조합의 모듈들을 조합하여 정답을 출력
* 기술모듈에 따라 출력되는 정답 구체화
* 학습데이터를 준비하기 위해서 모델 파이프라인 설계가 필요! 
* 위 과정 들을 반복하며 수렴
    * 서비스 요구사항 ─> 학습 데이터셋 ─> 모델 파이프라인 ─> 서비스요구사항 ─> ...

* [학습 데이터셋 준비 담당자의 업무]
    * 서비스 기획자
        * 기능 요구사항 구체화
        * 학습데이터 수량/종류 논의
    * AI 모델 개발자
        * AI 모델 설계 논의
        * 학습 데이터 정답/수량/종류 논의
    * 외주업체
        * 작업 가이드 작성
        * 작업 단가 논의
        * 작업 수량 논의
        * QnA 대응


## 2. 테스트 데이터셋/ 방법 준비
* 학습 데이터셋의 일부를 테스트 데이터셋으로 사용 (절대적인것은 아니고 다른 방식도 있다.)
* 서비스 요구사항에서 테스트 방법 도

|          | offline (서비스 적용 전 성능 평가) | online (서비스 적용 시 성능 평가) |
|----------|---|---|
|   정량 평가   | 완벽하지 않기 떄문에 후보 선택 목적 | 해당 AI 모델을 서비스 시나리오에서 자동 정량 평가 |
| 정성 평가 | 각 후보 AI 모델에 면밀 분석 후 서비스 출시 버전 선택  | VOC (Voice of Customer) AI 모델 개선 포인트 파악  |

## 3. 모델 요구사항 도출
* 위의 사항들 위에 필요한 요구사항들을 서비스 요구사항을 통해 도출
1. 처리시간 - 입력이 처리되어 출력이 나올 떄까지의 시간
    * offline test: 이미지 입력 후 수식 영역 정보가 출력될때 까지의 시간
    * online test: 이미지 촬영 후 수식 영역 정보가 화면에 표현될때 까지의 시간
2. 목표 정확도 - 해당 기술 모듈의 정량적인 정확도
    * offline test: 입력된 이미지 내 카드 번호/유효기간에 대한 edit distance
    * online test: 사용자가 AI모델의 예측 결과값을 수정할 확률
3. 목표 qps - QPS (Queries Per Second)
    * 향상 방법
        * 장비를 늘린다.
        * 처리시간을 줄인다.
        * 모델 크기를 줄인다.
4. Serving 방식 - 어떤 환경에서 기술 모듈이 동작하기 원하는지
    * Mobile
    * Local CPU/GPU Server
    * Cloud CPU/GPU Server

5. 장비 사양
    * Serving 장비조차 없어서 장비 구축이 요구되기도 함
    * 예산/QPS에 맞춰서 장비 사양 결정

6. 그 외에도 많은 일들이 존재

## 서비스 향 AI 모델 개발 기술팀의 조직 구성
1. AI 모델팀
    * 서비스 요구사항에 따리 AI 모델을 개발
    * Modeling (Modeler)
        * AI 모델 구조 제안
        * AI 모델 성능 분석/디버깅
    * Data (Data Curator)
        * 학습 데이터 준비
        * 정량 평가 수립
        * 정성 평가 분석
    * Tool (IDE Developer)
        * 라벨링 툴 개발
        * 모델 분석 툴 개발
        * 모델 개발 자동화 파이프라인 개발
    * Manage
        * 전체를 총괄하며 모델의 품질을 관리하는 사람

2. AI 모델 서빙팀
    * Model Engineering (Model engineer)
        * Mobile 구동이라면
            * Pytorch ->Tensorflow -> TFLite
        * GPU server 구동이라면
            * Pytorch -> Tensorflow -> TensorRT
        * 각 toolkit에서 지원되는 operation으로만 모델 구조 변경/재학습, custom layer 구현
        * 메모리를 줄이기 위한 경량화 Distillation, Quantization
        * GPU 고속처리를 위한 CUDA 프로그래밍
        * C/C++로 변환 등
    * end device에 맞게 변환
        * Mobile (Android/Iphone)
        * on CPU/GPU
        * Serve Farm/CLoud

## Advice
* 주변으로의 역량을 확대해라
* AI 기술 트랜드에 민감해야한다.


# 2. 캐글 그랜드마스터의 경진대회 노하우 대방출 - 김상훈

## 캐글 (Kaggle)
* 2010년 설립된 가장 유명한 인공지능 대회 플랫폼
* 17년 3월 구글에 인수
* 194개국 600만명 이상의 회원 보유
* 국내 비슷한 유명 경진대회 플랫폼
    * 카카오 아레나
        * 비공개, 2018년 11월 시작, 3개의 대회 진행
    * 데이콘
        * 타 기업/기관에 공개된 플랫폼
        * 51개의 대회/캐글 스타일을 빠르게 적용 중

## Why Kaggle
* 세계적으로 실력을 인정 받기 위해서 (취업 목적)
    * 영입 제안
* AI 개발자로 성장하기 위해서 (개인 성장)
    * 특유의 공유문화로 인해 많은 코드들과 자료들이 공유
    * 캐글 노트북은 몇번의 조작으로 빅데이터를 읽어 학습/훈련 가능

## 캐글에서 인정 받기 위해서는?
* 랭킹 시스템 활용
    * 높은 순위에서 많은 포인트 획득
    * 누적 포인트로 순위
* 티어 시스템 활용
    * 경진대회에서 메달 개수에 따라 티어가 결정
    * Expert/ Master/ Grandmaster
* 상위랭커가 되기 위해서는?
    * 솔로로 경진대회에서 높은 등수로 점수 독점
    * 팀이라면 나누어서 점수를 받는다.
* 그랜드 마스터
    * 5개의 금메달
    * 이 중 1개는 솔로 금메달

## 캐글 시작
1. 회원가입
2. 참여할 대회 선택
    * 대회 목적
        * Featured  - 상업적 목적, 실제 우승 모델을 현업에 적용하기도 함
        * Reaserch  - 연구 목적, 상금이 낮은편 
        * Getting Started & Playground  - 초심자들의 학습을 목적, 랭킹용 포인트나 메달을 얻지 못함
        * Analytics - 데이터 분석 목적, 데이터 탐색 및 시각화 노트북 제출
        * Recruitment   - 리크루팅 목적 
    * 제출 방식
        * General Competition - 리소스 제약 없음, submission.csv 파일만 제출
        * Code Competition - 리소스 제약 있음, 캐글 노트북에서 코드를 실행하여 제출 파일 생성 및 리소스 제한 있음
3. 데이터 다운로드
4. 대회를 위한 파이프라인 구축
5. 캐글로 파이프라인 빠르게 경험

## Kaggle knowhow
1. 효율적으로 파이프라인 반복
2. 점수 개선 아이디어 - 캐글 노트북, 토론 탭 참고
3. 탄탄한 검증 전략 - 올바르게 학습되고 있는지 확인
4. 앙상블 - 여러 모델의 예측 결과를 섞어서 예측 성능 향상
5. 높은 점수의 싱글모델 개선 - 1~2주 남을 때 50등 이내의 점수 획득 필요!
6. 주의해서 팀을 결성
7. 코드 관리 - 버전별로 개별 코드 관리 - 나중에 앙상블에 사용 가능

# 3. AI+ML과 Quant Trading - 구종만

## Quant Trading
### 트레이딩이란?
* 투자(investment)와 트레이딩(reading)
    * 트레이딩이 상대적으로 단기간
    * 단기적인 가격 변화에서 이득
    * 길어야 ~3일 정도의 보유 기간

* 퀀트 트레이딩이란?
    * 계량적 트레이딩
    * 모델: 특정 수학적 성징을 기반으로 시스템을 표현한 것
    * 모델이나 데이터를 기반으로한 트레이딜 접근
    * Automated/system/algorithmic trading

* 퀀트 트레이딩 전략
    * 기준
        * 포지션 유지 (1초 미만, ~3분, ~1시간, ~하루, ~3일)
        * 어떤 상품을 거래하는가? (주식, 선물, 옵션, 외환, 암호화폐, ...)
        * 자동화 정도 (100% 자동화 - black box, 트레이더의 주관 - gray box)
        * 주문 집행(trade execution) vs 자체 수익
        * 엣지가 어디에서 오는가? (시장의 특징, 통계적 모델) 
    1. Arbitrage (90% 속도, 10% 알파)
    2. Market making (50% 속도, 50% 알파)
    3. Statistical arbitrage (10% 속도, 90% 알파)
        * 데이터 기반 접근이 필수적
        * 최근 호가, 종목간의 상과관계, 가격차이 등을 이용하여 예측

* 어떻게 미래를 예측 할 수 있는가?
    * 포지션이 큰 참가자들의 움직임
    * 가격변화에 따른 군중심리
    * 리스크를 줄이려는 합리적인 행동
    * 새로운 정보의 반영은 시간이 걸린다.
    * 기술적 문제
    * 특정 상품이나 거래소가 가격발견 과정을 선도

* 이러한 예측으로 성공확율이 50% 초과만 되면 대수의 법칙으로 이득을 볼 수 있다.

* 시장의 변수
    * 다른 참가자들의 포지션, 뷰
    * 예측할 수 없는 사건
    * 시장의 변화
        * 참가자의 변화
        * 접근 방법의 고도화
        * 규제조건의 변화
        * 새로운 시장, 상품의 등장

* 딥러닝이 아직 잘 사용되지 않는 이유
    * 문제가 어렵다 = 오버피팅의 위험이 크다
        * 인샘플 에러를 낮추기는 쉽지만
        * 미래에 계속 에러를 낮게 유지하는것은 어렵다. (변하는 요소들)
    * 변화하는 요소들을 따로 구분하여 학습할 필요성
        * 모델링을 할 때 무엇이 의미있는지 알아야한다.
        * 이것을 안다며 선형회귀로도 충분히 가치를 얻을 수 잇다.
        * 100% 블랙박스 학습 프로레스가 어렵다 = 딥러닝을 활용하기 어렵다.



# 4. 내가 만든 AI 모델은 합법일까, 불법일까? - 문지형

## AI와 저작권법
### 왜 저작권법?
* 좋은 AI 모델은 좋은 데이터로 나오기 때문에 데이터와 연관된 저작권을 고려해야한다.
* 학계에서도 저작권과 라이센스에 대해 주목
* + 현재 저작권법은 AI 모델 개발이 고려되지 않은 부분이 많다.

### 저작권
* 창작성이 있다면 자연히 발생
* 합법적으로 데이터를 쓰기 위해서는 저작권의 범위를 알아야한다.
* 합법적으로 저작권이 있는 데이터는 2가지 방법으로 사용 할 수 있다.
    1. 저작권자와 협의
    2. 라이센스에 따라 사용

### 1. 저작권자와 협의
* 계약에 따라 독점적/비독점적, 전부/일부에 대한 사용 권리를 협의

### 2. 라이센스
* 허가요청을 하지 않아도 제안하는 특정 조건을 만족하면 이용이 가능한 규약
* CCL (Creative Commons License)
    * 종류
        * CC-BY
        * CC-BY-ND
        * CC-BY-SA
        * CC-BY-NC
        * CC-BY-NC-ND
        * CC-BY-NC-SA
    * 의미
        * BY: 저작권자 표시
        * ND: 변경 금지
        * NC: 비영리 사용
        * SA: 동일조건 변경 허락
* 공정이용 (Fair-use)에 대해서는 저작권자 허락 없이 사용가능
    * 교육, 재판절차, 정치적연설, 시사 보도, 비영리 방송, 도서관 등에서의 복제, 사적이용을 위한 복제 등등



# [피어세션 + 그라운드룰](https://www.notion.so/20210923-d11c8ba5b88a4fcb82c0833301e1d7eb)