---
title: "[boostcamp AI Tech] 특강 서비스 향 AI 모델 개발하기 - 이활석 "
date: 2021-09-23 20:00:00 -0400
categories:
use_math: true
---


# 서비스 향 AI 모델 개발하기 - 이활석 
## 부스트캠프 특강 (2021.9.23)

## 연구관점에서 AI개발
* 정해진 데이터셋/평가방식에서 더 좋은 모델
```                 
 학습 데이터셋  ──> 모델링 <── 테스트 데이터셋/방법 
                    │
                    └─> AI모델
```

## 서비스 관점에서 AI개발
* 학습 데이터셋, 테스트 데이터셋/방법이 존재하지 않는다.
* 대신 서비스 요구사항이 존재
``` 
서비스 요구사항 ──> 모델링 ──> AI모델 [테스트 데이터셋/방법,학습 데이터셋 (X)]
```

## 1. 학습데이터 준비
* 서비스 요구사할 ─> 필요한 데이터의 종류/수량/정답
* 서비스 기획팀과 질의응답을 통해 종류/수량 등의 요구사항을 구체화
* 기술 모듈 설계 
    * 입력 (A) ─> 기술모듈 (A to B) -> 출력 (B)
    * 필요하다면 여러 조합의 모듈들을 조합하여 정답을 출력
* 기술모듈에 따라 출력되는 정답 구체화
* 학습데이터를 준비하기 위해서 모델 파이프라인 설계가 필요! 
* 위 과정 들을 반복하며 수렴
    * 서비스 요구사항 ─> 학습 데이터셋 ─> 모델 파이프라인 ─> 서비스요구사항 ─> ...

* [학습 데이터셋 준비 담당자의 업무]
    * 서비스 기획자
        * 기능 요구사항 구체화
        * 학습데이터 수량/종류 논의
    * AI 모델 개발자
        * AI 모델 설계 논의
        * 학습 데이터 정답/수량/종류 논의
    * 외주업체
        * 작업 가이드 작성
        * 작업 단가 논의
        * 작업 수량 논의
        * QnA 대응


## 2. 테스트 데이터셋/ 방법 준비
* 학습 데이터셋의 일부를 테스트 데이터셋으로 사용 (절대적인것은 아니고 다른 방식도 있다.)
* 서비스 요구사항에서 테스트 방법 도

|          | offline (서비스 적용 전 성능 평가) | online (서비스 적용 시 성능 평가) |
|----------|---|---|
|   정량 평가   | 완벽하지 않기 떄문에 후보 선택 목적 | 해당 AI 모델을 서비스 시나리오에서 자동 정량 평가 |
| 정성 평가 | 각 후보 AI 모델에 면밀 분석 후 서비스 출시 버전 선택  | VOC (Voice of Customer) AI 모델 개선 포인트 파악  |

## 3. 모델 요구사항 도출
* 위의 사항들 위에 필요한 요구사항들을 서비스 요구사항을 통해 도출
1. 처리시간 - 입력이 처리되어 출력이 나올 떄까지의 시간
    * offline test: 이미지 입력 후 수식 영역 정보가 출력될때 까지의 시간
    * online test: 이미지 촬영 후 수식 영역 정보가 화면에 표현될때 까지의 시간
2. 목표 정확도 - 해당 기술 모듈의 정량적인 정확도
    * offline test: 입력된 이미지 내 카드 번호/유효기간에 대한 edit distance
    * online test: 사용자가 AI모델의 예측 결과값을 수정할 확률
3. 목표 qps - QPS (Queries Per Second)
    * 향상 방법
        * 장비를 늘린다.
        * 처리시간을 줄인다.
        * 모델 크기를 줄인다.
4. Serving 방식 - 어떤 환경에서 기술 모듈이 동작하기 원하는지
    * Mobile
    * Local CPU/GPU Server
    * Cloud CPU/GPU Server

5. 장비 사양
    * Serving 장비조차 없어서 장비 구축이 요구되기도 함
    * 예산/QPS에 맞춰서 장비 사양 결정

6. 그 외에도 많은 일들이 존재

## 서비스 향 AI 모델 개발 기술팀의 조직 구성
1. AI 모델팀
    * 서비스 요구사항에 따리 AI 모델을 개발
    * Modeling (Modeler)
        * AI 모델 구조 제안
        * AI 모델 성능 분석/디버깅
    * Data (Data Curator)
        * 학습 데이터 준비
        * 정량 평가 수립
        * 정성 평가 분석
    * Tool (IDE Developer)
        * 라벨링 툴 개발
        * 모델 분석 툴 개발
        * 모델 개발 자동화 파이프라인 개발
    * Manage
        * 전체를 총괄하며 모델의 품질을 관리하는 사람

2. AI 모델 서빙팀
    * Model Engineering (Model engineer)
        * Mobile 구동이라면
            * Pytorch ->Tensorflow -> TFLite
        * GPU server 구동이라면
            * Pytorch -> Tensorflow -> TensorRT
        * 각 toolkit에서 지원되는 operation으로만 모델 구조 변경/재학습, custom layer 구현
        * 메모리를 줄이기 위한 경량화 Distillation, Quantization
        * GPU 고속처리를 위한 CUDA 프로그래밍
        * C/C++로 변환 등
    * end device에 맞게 변환
        * Mobile (Android/Iphone)
        * on CPU/GPU
        * Serve Farm/CLoud

## Advice
* 주변으로의 역량을 확대해라
* AI 기술 트랜드에 민감해야한다.